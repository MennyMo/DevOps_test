let json,urlencoded,cors,helmet,config,router;_b42‍.x([["default",()=>_b42‍.o]]);_b42‍.w("express",[["json",["json"],function(v){json=v}],["urlencoded",["urlencoded"],function(v){urlencoded=v}]]);_b42‍.w("cors",[["default",["cors"],function(v){cors=v}]]);_b42‍.w("helmet",[["default",["helmet"],function(v){helmet=v}]]);_b42‍.w("./env",[["default",["config"],function(v){config=v}]]);_b42‍.w("../routes",[["default",["router"],function(v){router=v}]]);






const Ddos =  require('ddos');

const app = exp => {
    exp.use(helmet());
    exp.use(cors());

    const ddos = new Ddos();
    exp.use(ddos.express);
    exp.use(json({ limit: '2mb' }));
    exp.use(urlencoded({ limit: '2mb', extended: true }));

    exp.get('/', (req, res) => {
        return res.status(200).json({
            message: 'Welcome to Molly app.'
        });
    });

    // register route here
    exp.use('/v1', router);

    exp.use((req, res) => {
        return res.status(404).json({
            message: 'Route does not exist.'
        });
    });

    const port = config.PORT || 3000;

    const server = exp.listen(port, () => {
        console.log(`App is running on ${port}`);
    });

    server.setTimeout(20000);

};

_b42‍.d(app);

